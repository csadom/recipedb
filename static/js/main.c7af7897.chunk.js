(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t,a){},197:function(e,t,a){e.exports=a(423)},202:function(e,t,a){},423:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(26),r=a.n(s),o=(a(202),a(21)),l=a(16),c=a(17),u=a(20),h=a(18),p=a(19),g=a(49),m=a(163),d=a(63),k=a(47),f=a.n(k),v=a(59),y=a.n(v),z=a(165),E=a.n(z),b=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return void 0===this.props.adorment?i.a.createElement(f.a,null,i.a.createElement(y.a,{value:this.props.value,label:this.props.label,placeholder:this.props.placeholder,margin:this.props.margin,style:{width:this.props.width},required:this.props.required,onChange:this.props.onChange,multiline:this.props.multiline,type:this.props.type})):i.a.createElement(f.a,null,i.a.createElement(y.a,{value:this.props.value,label:this.props.label,placeholder:this.props.placeholder,margin:this.props.margin,style:{width:this.props.width},required:this.props.required,onChange:this.props.onChange,multiline:this.props.multiline,type:this.props.type,InputProps:{endAdornment:i.a.createElement(E.a,{position:"end"},this.props.adorment)}}))}}]),t}(i.a.Component),C=a(60),O=a.n(C),S=a(40),j=a.n(S),w=a(42),x=a.n(w),I=a(35),T=a.n(I),M=a(43),D=a.n(M),A=a(10),N=a.n(A),R=a(72),K=a(112),H=a.n(K),L=a(57),P=a.n(L),B=a(45),F=a.n(B),U=a(44),q=a.n(U),W=a(114),V=a.n(W),_=a(113),G=a.n(_);function J(e){return i.a.createElement(x.a,{row:!0},i.a.createElement(b,{label:"Mennyis\xe9g",placeholder:"Add meg a mennyis\xe9get...",required:!1,width:e.width,margin:e.margin,value:e.mennyiseg,onChange:e.changeMennyiseg,type:"number"}),i.a.createElement(b,{label:"M\xe9rt\xe9kegys\xe9g",placeholder:"Add meg a m\xe9rt\xe9kegys\xe9get...",required:!0,width:e.width,margin:e.margin,value:e.mertekegyseg,onChange:e.changeMertekegyseg,type:"text"}),i.a.createElement(b,{label:"Alapanyag",placeholder:"Add meg az alapanyagot...",required:!0,width:e.width,margin:e.margin,value:e.alapanyag,onChange:e.changeAlapanyag,type:"text"}),i.a.createElement(b,{label:"Kal\xf3ria",placeholder:"Add meg a kal\xf3ri\xe1t...",required:!1,width:e.width,margin:e.margin,value:e.kaloria,onChange:e.changeKaloria,type:"number"}),i.a.createElement(j.a,{style:{marginTop:20},color:"secondary","aria-label":"Delete",size:"small",onClick:e.deleteAlapanyag},i.a.createElement(O.a,null)))}function X(e){return{id:e,name:"",mennyiseg:"",mertekegyseg:"",kaloria:""}}function $(e){return{id:e,name:"",counter:1,alapanyagok:[X(0)]}}var Q=Object(R.SortableHandle)(function(){return i.a.createElement(q.a,null,i.a.createElement(G.a,null))}),Y=Object(R.SortableElement)(function(e){var t=e.alapanyag,a=e.changeMertekegyseg,n=e.changeMennyiseg,s=e.changeKaloria,r=e.changeAlapanyag;return i.a.createElement(F.a,{ContainerComponent:"div"},i.a.createElement(J,{mertekegyseg:t.mertekegyseg,mennyiseg:t.mennyiseg,alapanyag:t.name,kaloria:t.kaloria,width:"80%",margin:"normal",key:t.id,changeMertekegyseg:function(e){return a(e)},changeMennyiseg:function(e){return n(e)},changeKaloria:function(e){return s(e)},changeAlapanyag:function(e){return r(e)}}),i.a.createElement(V.a,null,i.a.createElement(Q,null)))}),Z=Object(R.SortableContainer)(function(e){var t=e.items,a=e.changeMertekegyseg,n=e.changeMennyiseg,s=e.changeKaloria,r=e.changeAlapanyag;return i.a.createElement(P.a,{component:"div"},t.map(function(e,t){return i.a.createElement(Y,{key:t,index:t,alapanyag:e,changeMertekegyseg:function(t){return a(t,e.id)},changeMennyiseg:function(t){return n(t,e.id)},changeKaloria:function(t){return s(t,e.id)},changeAlapanyag:function(t){return r(t,e.id)}})}))}),ee=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this))).onSortEnd=function(e,t,n){a.props.onSortEnd(e,t,n)},a.sortableList=function(e){return i.a.createElement(Z,{items:a.state.items,changeMertekegyseg:function(t,n){return a.props.changeMertekegyseg(e,n,t)},changeKaloria:function(t,n){return a.props.changeKaloria(e,n,t)},changeMennyiseg:function(t,n){return a.props.changeMennyiseg(e,n,t)},changeAlapanyag:function(t,n){return a.props.changeAlapanyag(e,n,t)},onSortEnd:function(t,n){return a.onSortEnd(t,n,e)},useDragHandle:!0,lockAxis:"y"})},a.removeHozzavalo=function(e,t){var n=Object.assign([],a.state.hozzavalok);n.splice(e,1),a.setState({hozzavalok:n})},a.state={hozzavalokCounter:2,hozzavalok:[{id:1,name:""}],items:e.hozzavalok[0].alapanyagok},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"addHozzavalo",value:function(e){var t=[].concat(Object(d.a)(this.state.hozzavalok),[$(this.state.hozzavalokCounter)]);this.setState({hozzavalok:t,hozzavalokCounter:this.state.hozzavalokCounter+1})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement(T.a,null,i.a.createElement(x.a,{row:!0},i.a.createElement("h6",{style:{marginTop:7}},"Hozz\xe1val\xf3k"),i.a.createElement(y.a,{value:this.props.numberOfPeople,style:{marginBottom:20,marginLeft:10,marginRight:10,width:"10%"},required:!0,onChange:function(t){return e.props.onChangeNumberOfPeople(t)},type:"number"}),i.a.createElement("h6",{style:{marginTop:7}},"f\u0151re"))),i.a.createElement("ul",null,this.props.hozzavalok.map(function(t,a){var n=a+1+". hozzaval\xf3 csoport";return i.a.createElement("ul",{key:a},i.a.createElement(b,{label:n,placeholder:n,required:!1,width:"100%",margin:"normal",value:t.name,onChange:function(a){return e.props.changeHozzavaloNev(t.id,a)}}),i.a.createElement(j.a,{style:{marginTop:20,marginLeft:20,marginRight:20},color:"secondary","aria-label":"Delete",size:"small",onClick:function(t){return e.props.removeHozzavalo(a,t)}},i.a.createElement(O.a,null)),i.a.createElement("div",null,i.a.createElement(N.a,{item:!0,xs:12,style:{marginTop:20,marginLeft:20,marginRight:20}},i.a.createElement(T.a,null,"Alapanyagok:")),i.a.createElement("ul",null,t.alapanyagok.map(function(t,n){return i.a.createElement("div",{key:n},i.a.createElement(J,{deleteAlapanyag:function(t){return e.props.removeAlapanyag(a,n,t)},changeMertekegyseg:function(n){return e.props.changeMertekegyseg(a,t.id,n)},mertekegyseg:t.mertekegyseg,changeMennyiseg:function(n){return e.props.changeMennyiseg(a,t.id,n)},mennyiseg:t.mennyiseg,changeAlapanyag:function(n){return e.props.changeAlapanyag(a,t.id,n)},alapanyag:t.name,changeKaloria:function(n){return e.props.changeKaloria(a,t.id,n)},kaloria:t.kaloria,width:"80%",margin:"normal",key:t.id}))})),i.a.createElement(N.a,{item:!0,xs:12,style:{marginTop:20}},i.a.createElement(j.a,{"aria-label":"Add",size:"small",color:"secondary",onClick:function(t){return e.props.addAlapanyag(a,t)}},i.a.createElement(D.a,null)))))}),i.a.createElement(N.a,{item:!0,xs:12,style:{marginTop:20}},i.a.createElement(j.a,{"aria-label":"Add",size:"small",color:"secondary",onClick:function(){return e.props.addHozzavalo()}},i.a.createElement(D.a,null)))))}}]),t}(n.Component),te=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement(T.a,null,this.props.title),i.a.createElement("ul",null,i.a.createElement("div",null,this.props.elkeszites.step.map(function(t,a){var n=a+1+" l\xe9p\xe9s *";return i.a.createElement("div",{key:a},i.a.createElement(N.a,{item:!0,xs:12,style:{marginTop:20,marginLeft:20,marginRight:20}},i.a.createElement(T.a,null,n),i.a.createElement(j.a,{color:"secondary","aria-label":"Delete",size:"small",style:{marginLeft:20,marginRight:20}},i.a.createElement(O.a,{onClick:function(){return e.props.removeStep(a)}})),i.a.createElement(b,{required:!0,width:"300%",margin:"normal",value:t.text,multiline:!0,onChange:function(a){return e.props.onStepChange(t.id,a)},type:"text"})))}),i.a.createElement(N.a,{item:!0,xs:12,style:{marginTop:20,marginLeft:20,marginRight:20}},i.a.createElement(j.a,{"aria-label":"Add",size:"small",color:"secondary",onClick:function(){return e.props.addStep()}},i.a.createElement(D.a,null))))))}}]),t}(i.a.Component),ae=a(61),ne=a.n(ae),ie=a(71),se=a.n(ie),re=a(23),oe=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){for(var e=this,t=[],a=0;a<this.props.labels.length;a++){for(var n=!1,s=0;s<this.props.checks.length;s++)0===this.props.labels[a].localeCompare(this.props.checks[s])&&(n=!0);n?t.push(!0):t.push(!1)}var r=this.props.labels.map(function(a,n){return i.a.createElement(ne.a,{key:n,control:i.a.createElement(se.a,{checked:t[n],color:"primary",onChange:function(t){return e.props.onChange(a,t)}}),label:a})});return i.a.createElement("div",null,i.a.createElement(T.a,null,this.props.title),i.a.createElement(x.a,{row:!0,className:"form-group"},r))}}]),t}(i.a.Component),le=Object(re.withStyles)({root:{color:"#445a84","&$checked":{color:"#2E3B55"}},checked:{}})(oe),ce=["Tavaszi","Ny\xe1ri","\u0150szi","T\xe9li","Mindig"],ue=["Kar\xe1csony","H\xfasv\xe9t","\xdaj\xe9v","Farsang","H\xe1zibuli","Sz\xfclnap","Halloween"],he=["Diab","Epe","Hasny\xe1lmirigy","IR","Feh\xe9rje d\xfas","Feh\xe9rje szeg\xe9ny","Vega","Veg\xe1n","Tej mentes","Lakt\xf3zmentes","Glut\xe9nmentes"],pe=["Kis\xe9tkez\xe9s ","Egyt\xe1l \xe9tel","Leves","K\xf6ret","Felt\xe9t","Desszert","Ital"],ge=["Reggeli","T\xedz\xf3rai","Eb\xe9d","Uzsonna","Vacsora"],me=["F\u0151z\xe9s","S\xfct\xe9s","P\xe1rol\xe1s","Fagyaszt\xe1s"],de="https://recipedbsecure-recipedb.apps.us-east-2.online-starter.openshift.com/",ke="https://api.cloudinary.com/v1_1/".concat("csadom","/upload"),fe=a(46),ve=a.n(fe),ye=a(166),ze=a.n(ye);a(103);function Ee(e){for(var t="",a=0;a<e.length;a++)a===e.length-1?t+=e[a].toString():t=t+e[a].toString()+", ";return{str:t}}var be=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(i)))).state={dimensions:{width:0,height:0},dimensionsOrig:{width:0,height:0}},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({dimensions:{width:this.containerAll.offsetWidth,height:this.container.offsetHeight}});var t=new Image;t.onload=function(){e.setState({dimensionsOrig:{width:t.width,height:t.height}})},t.src=this.props.state.fileUrl}},{key:"componentDidUpdate",value:function(e,t){var a=this;this.state.dimensions.height!==this.refs.myImgContainer.clientHeight&&this.setState({dimensions:{width:this.state.dimensions.width,height:this.refs.myImgContainer.clientHeight}});var n=new Image;n.onload=function(){a.state.dimensionsOrig.height!==n.height&&a.setState({dimensionsOrig:{width:n.width,height:n.height}})},n.src=this.props.state.fileUrl}},{key:"getImageW",value:function(){try{var e=this.state.dimensionsOrig.height,t=this.state.dimensionsOrig.width,a=this.state.dimensions.width/this.props.part,n=this.state.dimensions.height;return e<t?{w:a}:parseInt(n/(e/t))}catch(i){return this.state.dimensions.width}}},{key:"getImageH",value:function(){try{var e=this.state.dimensionsOrig.height,t=this.state.dimensionsOrig.width/this.props.part,a=this.state.dimensions.height,n=this.state.dimensions.width;return e<t?parseFloat(n/(e/t)):a}catch(i){return this.state.dimensions.height}}},{key:"handleImageLoaded",value:function(e){var t=e.target;this.setState({dimensionsOrig:{height:t.offsetHeight,width:t.offsetWidth}})}},{key:"getImage",value:function(){return""!==this.props.state.fileUrl?i.a.createElement(N.a,{item:!0,xs:6},i.a.createElement("img",{className:"img",src:this.props.state.fileUrl,width:this.getImageW(),height:this.getImageH(),alt:""})):void 0}},{key:"renderContent",value:function(){return i.a.createElement("div",null,i.a.createElement("h5",null,"\xc9vszakok: ",Ee(this.props.state.evszak).str),i.a.createElement("h5",null,"\xdcnnepek: ",Ee(this.props.state.unnep).str),i.a.createElement("h5",null,"Di\xe9ta: ",Ee(this.props.state.dieta).str),i.a.createElement("h5",null,"Men\xfc: ",Ee(this.props.state.menu).str),i.a.createElement("h5",null,"Napszak: ",Ee(this.props.state.napszak).str),i.a.createElement("h5",null,"Technika: ",Ee(this.props.state.technika).str),i.a.createElement("h5",null,"Elk\xe9sz\xedt\xe9si id\u0151: ",""!==this.props.state.elkeszitesiIdo?this.props.state.elkeszitesiIdo+" perc":""," ",""!==this.props.state.elokeszitesiIdo?" ("+this.props.state.elokeszitesiIdo+" perc el\u0151k.)":""),i.a.createElement("h5",null,"Kal\xf3ria: ",this.props.state.kaloria," ",""!==this.props.state.kaloria?" kcal":""))}},{key:"getDetailsSize",value:function(){return""===this.props.state.fileUrl||void 0===this.props.state.fileUrl?11:5}},{key:"render",value:function(){var e=this,t=this.props.classes;this.state.dimensions;return i.a.createElement("div",null,i.a.createElement("div",{style:{padding:"20px"},align:"center"},i.a.createElement("h2",null,this.props.state.receptCim)),i.a.createElement("div",{ref:function(t){return e.containerAll=t}},i.a.createElement(N.a,{container:!0,spacing:24,direction:"row",className:t.root},i.a.createElement(N.a,{item:!0,xs:this.getDetailsSize(),style:{marginTop:20,marginLeft:20}},i.a.createElement("div",{ref:"myImgContainer"},i.a.createElement("div",{className:"Hello",ref:function(t){return e.container=t}},this.renderContent()))),this.getImage())),i.a.createElement(N.a,{item:!0,xs:!0,style:{marginTop:20,marginLeft:20}},i.a.createElement("h5",null,"Hozz\xe1val\xf3k ",this.props.state.numberOfPeople," f\u0151re: ",this.props.state.hozzavalok.map(function(e,t){return i.a.createElement("ul",{key:t},e.name.toString(),e.alapanyagok.map(function(e,t){return i.a.createElement("ul",{key:t},e.mennyiseg," ",e.mertekegyseg," ",e.name,""!==e.kaloria?" ("+e.kaloria+" kcal)":"")}))})),i.a.createElement("h5",{className:t.paper},"Elk\xe9sz\xedt\xe9s: ",function(e){return e.map(function(e,t){return i.a.createElement("ul",{key:t},i.a.createElement("p",null,t+1,". l\xe9p\xe9s:"),i.a.createElement("p",null,e.text))})}(this.props.state.elkeszites.step))))}}]),t}(n.Component),Ce=Object(re.withStyles)(function(e){return{root:{flexGrow:1},image:{textAlign:"center",color:e.palette.text.secondary},paper:{textAlign:"justify",padding:2*e.spacing.unit}}})(be),Oe=a(115),Se=(a(156),a(167)),je=a.n(Se),we=a(168),xe=a.n(we),Ie=a(169),Te=a.n(Ie),Me=(a(157),a(170)),De=a.n(Me),Ae=a(29),Ne=a.n(Ae),Re=a(34),Ke=a.n(Re),He=a(116),Le=a(171),Pe=a.n(Le),Be=a(174),Fe=a.n(Be),Ue=a(173),qe=a.n(Ue),We=a(172),Ve=a.n(We),_e=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement(Pe.a,{open:this.props.dialogOpen,onClose:this.props.onClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},i.a.createElement(Ve.a,{color:"secondary",value:this.props.progValue,variant:"determinate"}),i.a.createElement(qe.a,{id:"alert-dialog-title"},this.props.dialogMsg),i.a.createElement(Fe.a,null,i.a.createElement(Ne.a,{onClick:this.props.onClose,color:"primary"},this.props.okMsg)))}}]),t}(i.a.Component);Object(Oe.registerPlugin)(xe.a,Te.a,De.a,je.a);var Ge={marginLeft:20,marginRight:20};function Je(){var e;return e={numberOfPeople:"",tag:"",file:"",fileUrl:"",fileID:"",receptCim:"",elkeszitesiIdo:"",elokeszitesiIdo:""},Object(o.a)(e,"numberOfPeople",""),Object(o.a)(e,"kaloria",""),Object(o.a)(e,"evszak",[]),Object(o.a)(e,"unnep",[]),Object(o.a)(e,"dieta",[]),Object(o.a)(e,"menu",[]),Object(o.a)(e,"napszak",[]),Object(o.a)(e,"technika",[]),Object(o.a)(e,"hozzavalokCounter",2),Object(o.a)(e,"hozzavalok",[{id:1,name:"",counter:1,alapanyagok:[X(0)]}]),Object(o.a)(e,"elkeszites",{counter:2,step:[{id:1,text:""}]}),e}var Xe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this))).removeHozzavalo=function(e,t){var n=Object.assign([],a.state.hozzavalok);n.splice(e,1),a.setState({hozzavalok:n})},a.removeAlapanyag=function(e,t,n){var i=Object.assign([],a.state.hozzavalok);i[e].alapanyagok.splice(t,1),a.setState({hozzavalok:i})},a.changeMertekegyseg=function(e,t,n){var i=a.state.hozzavalok[e].alapanyagok.findIndex(function(e){return e.id===t}),s=Object.assign({},a.state.hozzavalok[e].alapanyagok[i]);s.mertekegyseg=n.target.value;var r=Object.assign([],a.state.hozzavalok);r[e].alapanyagok[i]=s,a.setState({hozzavalok:r})},a.changeMennyiseg=function(e,t,n){if(!(n.target.value<0)){var i=a.state.hozzavalok[e].alapanyagok.findIndex(function(e){return e.id===t}),s=Object.assign({},a.state.hozzavalok[e].alapanyagok[i]);s.mennyiseg=n.target.value;var r=Object.assign([],a.state.hozzavalok);r[e].alapanyagok[i]=s,a.setState({hozzavalok:r})}},a.changeAlapanyag=function(e,t,n){var i=a.state.hozzavalok[e].alapanyagok.findIndex(function(e){return e.id===t}),s=Object.assign({},a.state.hozzavalok[e].alapanyagok[i]);s.name=n.target.value;var r=Object.assign([],a.state.hozzavalok);r[e].alapanyagok[i]=s,a.setState({hozzavalok:r})},a.changeKaloria=function(e,t,n){if(!(n.target.value<0)){var i=a.state.hozzavalok[e].alapanyagok.findIndex(function(e){return e.id===t}),s=Object.assign({},a.state.hozzavalok[e].alapanyagok[i]);s.kaloria=n.target.value;var r=Object.assign([],a.state.hozzavalok);r[e].alapanyagok[i]=s;var o=a.calculateKaloria(a.state.numberOfPeople);a.setState({hozzavalok:r,kaloria:o})}},a.changeHozzavaloNev=function(e,t){var n=a.state.hozzavalok.findIndex(function(t){return t.id===e}),i=Object.assign({},a.state.hozzavalok[n]);i.name=t.target.value;var s=Object.assign([],a.state.hozzavalok);s[n]=i,a.setState({hozzavalok:s})},a.removeStep=function(e){var t=Object.assign([],a.state.elkeszites.step),n=Object.assign([],a.state.elkeszites);t.splice(e,1),n.step=t,a.setState({elkeszites:n})},a.changeStep=function(e,t){var n=a.state.elkeszites.step.findIndex(function(t){return t.id===e}),i=Object.assign({},a.state.elkeszites);i.step[n].text=t.target.value,a.setState({elkeszites:i})},a.state={tag:e.state.tag,numberOfPeople:e.state.numberOfPeople,okMsg:"",progValue:0,dialogMsg:"",dialogOpen:!1,file:e.state.file,fileUrl:e.state.fileUrl,fileID:e.state.fileID,receptCim:e.state.receptCim,elkeszitesiIdo:e.state.elkeszitesiIdo,elokeszitesiIdo:e.state.elokeszitesiIdo,kaloria:e.state.kaloria,id:e.state._id,evszak:e.state.evszak,unnep:e.state.unnep,dieta:e.state.dieta,menu:e.state.menu,napszak:e.state.napszak,technika:e.state.technika,hozzavalokCounter:e.state.hozzavalokCounter,hozzavalok:e.state.hozzavalok,elkeszites:e.state.elkeszites,newImage:!1},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"onSortEnd",value:function(e,t,a){console.log(this.state.hozzavalok[a].alapanyagok);var n=H()(this.state.hozzavalok[a].alapanyagok,e,t),i=Object.assign([],this.state.hozzavalok);i[a].alapanyagok=n,console.log(n),this.setState({hozzavalok:i})}},{key:"onReceptCimChange",value:function(e){this.setState({receptCim:e.target.value})}},{key:"onTagChange",value:function(e){this.setState({tag:e.target.value})}},{key:"onElkeszitesiIdoChange",value:function(e){e.target.value<0||this.setState({elkeszitesiIdo:e.target.value})}},{key:"onElokeszitesiIdoChange",value:function(e){e.target.value<0||this.setState({elokeszitesiIdo:e.target.value})}},{key:"onKaloriaChange",value:function(e){e.target.value<0||this.setState({kaloria:e.target.value})}},{key:"changeNumberOfPeople",value:function(e){if(!(e.target.value<0)){var t=this.calculateKaloria(e.target.value);this.setState({numberOfPeople:e.target.value,kaloria:t})}}},{key:"onEvszakChange",value:function(e,t){var a,n=this.state.evszak;t.target.checked?n.push(e):(a=n.indexOf(e),n.splice(a,1)),n.sort(),this.setState({evszak:n})}},{key:"onUnnepChange",value:function(e,t){var a,n=this.state.unnep;t.target.checked?n.push(e):(a=n.indexOf(e),n.splice(a,1)),n.sort(),this.setState({unnep:n})}},{key:"onDietaChange",value:function(e,t){var a,n=this.state.dieta;t.target.checked?n.push(e):(a=n.indexOf(e),n.splice(a,1)),n.sort(),this.setState({dieta:n})}},{key:"onMenuChange",value:function(e,t){var a,n=this.state.menu;t.target.checked?n.push(e):(a=n.indexOf(e),n.splice(a,1)),n.sort(),this.setState({menu:n})}},{key:"onNapszakChange",value:function(e,t){var a,n=this.state.napszak;t.target.checked?n.push(e):(a=n.indexOf(e),n.splice(a,1)),n.sort(),this.setState({napszak:n})}},{key:"onTechnikaChange",value:function(e,t){var a,n=this.state.technika;t.target.checked?n.push(e):(a=n.indexOf(e),n.splice(a,1)),n.sort(),this.setState({technika:n})}},{key:"addHozzavalo",value:function(){var e=[].concat(Object(d.a)(this.state.hozzavalok),[$(this.state.hozzavalokCounter)]);this.setState({hozzavalok:e,hozzavalokCounter:this.state.hozzavalokCounter+1})}},{key:"addAlapanyag",value:function(e,t){var a=[].concat(Object(d.a)(this.state.hozzavalok[e].alapanyagok),[X(this.state.hozzavalok[e].counter)]),n=Object.assign([],this.state.hozzavalok);n[e].alapanyagok=a,n[e].counter=n[e].counter+1,this.setState({hozzavalok:n})}},{key:"calculateKaloria",value:function(e){var t=0;return this.state.hozzavalok.map(function(e,a){e.alapanyagok.map(function(e,a){""!==e.kaloria&&void 0!==e.kaloria&&(t+=parseFloat(e.kaloria))})}),""!==e&&void 0!==e&&(t/=e),t}},{key:"addStep",value:function(){var e=Object.assign({},this.state.elkeszites),t=[].concat(Object(d.a)(this.state.elkeszites.step),[{id:this.state.elkeszites.counter,text:""}]);e.step=t,e.counter=e.counter+1,this.setState({elkeszites:e})}},{key:"onSubmit",value:function(e){e.preventDefault(),this.setState({dialogOpen:!0,dialogMsg:"Recept felt\xf6lt\xe9se...",okMsg:""}),this.uploadFile(this.state.fileData)}},{key:"handleDialogClose",value:function(){this.setState({dialogOpen:!1})}},{key:"getFile",value:function(e){this.setState({file:e})}},{key:"getBase64",value:function(e){return new Promise(function(t,a){var n=new FileReader;n.readAsDataURL(e),n.onload=function(){t(n.result)},n.onerror=function(e){return a(e)}})}},{key:"onaddfile",value:function(e){var t=this;e.fileSize>3e6?(alert("T\xfal nagy k\xe9p, maximum m\xe9ret: 3 MB"),this.pond.removeFile()):(this.setState({fileData:e.file,newImage:!0}),this.getBase64(e.file).then(function(e){return t.setState({fileUrl:e})}))}},{key:"uploadFile",value:function(e){if(this.state.newImage){var t=new XMLHttpRequest,a=new FormData;t.open("POST",ke,!0),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.upload.addEventListener("progress",function(e){var t=Math.round(100*e.loaded/e.total);this.setState({progValue:t})}.bind(this)),t.onreadystatechange=function(e){if(4===t.readyState)if(200===t.status){var a=JSON.parse(t.responseText),n=a.secure_url;this.setState({fileID:a.public_id,fileUrl:n}),this.uploadRecipeToDB()}else this.setState({dialogMsg:"Nem tudtuk felt\xf6lteni, hiba t\xf6rt\xe9nt k\xe9p felt\xf6lt\xe9s k\xf6zben (Error: "+t.status+").",dialogOpen:!0,okMsg:"Ok"})}.bind(this),a.append("upload_preset","r8sgbjtv"),a.append("file",e),a.append("folder","recipes"),t.send(a)}else this.uploadRecipeToDB()}},{key:"uploadRecipeToDB",value:function(){var e=this,t={user:this.props.user,date:ze()().format(),token:this.props.token,receptCim:this.state.receptCim,evszak:this.state.evszak,unnep:this.state.unnep,dieta:this.state.dieta,menu:this.state.menu,napszak:this.state.napszak,technika:this.state.technika,elkeszitesiIdo:this.state.elkeszitesiIdo,elokeszitesiIdo:this.state.elokeszitesiIdo,numberOfPeople:this.state.numberOfPeople,kaloria:this.state.kaloria,hozzavalok:this.state.hozzavalok,elkeszites:this.state.elkeszites,fileUrl:this.state.fileUrl,fileID:this.state.fileID,tag:this.state.tag,groupID:void 0};this.props.edit?ve.a.put(de+"recipe/update/"+this.state.id,t).then(function(t){200===t.status?(e.setState({dialogMsg:"A receptet sikeresen friss\xedtett\xfck!",okMsg:"Ok"}),e.setState({dialogOpen:!0}),e.setState(Je()),e.pond.removeFile()):e.setState({dialogMsg:"A szerkezt\xe9s sor\xe1n hiba t\xf6rt\xe9nt. K\xe9rlek keresd Domit!"+t.status+": "+t.statusText})}).catch(function(t){var a="A szerkezt\xe9s sor\xe1n hiba t\xf6rt\xe9nt. K\xe9rlek keresd Domit! ";t.response?e.setState({dialogMsg:a+t.response.status+": "+t.response.statusText}):e.setState({dialogMsg:a+t.toString()}),e.setState({dialogOpen:!0})}):ve.a.post(de+"recipe/add",t).then(function(t){200===t.status?(e.setState({dialogMsg:"A receptet sikeresen felt\xf6lt\xf6tt\xfck!",okMsg:"Ok"}),e.setState({dialogOpen:!0}),e.setState(Je()),e.pond.removeFile()):e.setState({dialogMsg:"A felt\xf6lt\xe9s sor\xe1n hiba t\xf6rt\xe9nt. K\xe9rlek keresd Domit!"+t.status+": "+t.statusText})}).catch(function(t){var a="A felt\xf6lt\xe9s sor\xe1n hiba t\xf6rt\xe9nt. K\xe9rlek keresd Domit! ";t.response?e.setState({dialogMsg:a+t.response.status+": "+t.response.statusText}):e.setState({dialogMsg:a+t.toString()}),e.setState({dialogOpen:!0})})}},{key:"render",value:function(){var e=this,t=this.props.classes;return i.a.createElement("div",{className:"all"},i.a.createElement(_e,{dialogOpen:this.state.dialogOpen,dialogMsg:this.state.dialogMsg,onClose:this.handleDialogClose.bind(this),okMsg:this.state.okMsg,progValue:this.state.progValue}),i.a.createElement("div",{className:He.isBrowser?"split left":"full"},i.a.createElement(N.a,{item:!0,xs:12},i.a.createElement(Ke.a,{className:t.paper,style:{marginTop:20,marginLeft:20,marginRight:20}},i.a.createElement("form",{onSubmit:this.onSubmit.bind(this)},i.a.createElement(N.a,{item:!0,xs:12,style:Ge},i.a.createElement(b,{type:"text",value:this.state.receptCim,onChange:this.onReceptCimChange.bind(this),label:"Recept c\xedme",placeholder:"Add meg a recept c\xedm\xe9t...",required:!0,width:"250%",margin:"normal"})),i.a.createElement(N.a,{item:!0,xs:12,style:Ge},i.a.createElement(b,{type:"text",value:this.state.tag,onChange:this.onTagChange.bind(this),label:"Tag",placeholder:"Add meg a taget...",required:!0,width:"100%",margin:"normal"})),i.a.createElement(N.a,{item:!0,xs:12,style:{marginTop:20,marginLeft:20,marginRight:20}},i.a.createElement(le,{checks:this.state.evszak,onChange:function(t,a){return e.onEvszakChange(t,a)},title:"\xc9vszak:",labels:ce})),i.a.createElement(N.a,{item:!0,xs:12,style:Ge},i.a.createElement(le,{checks:this.state.unnep,onChange:function(t,a){return e.onUnnepChange(t,a)},title:"\xdcnnepek:",labels:ue})),i.a.createElement(N.a,{item:!0,xs:12,style:Ge},i.a.createElement(le,{checks:this.state.dieta,onChange:function(t,a){return e.onDietaChange(t,a)},title:"Di\xe9ta:",labels:he})),i.a.createElement(N.a,{item:!0,xs:12,style:Ge},i.a.createElement(le,{checks:this.state.menu,onChange:function(t,a){return e.onMenuChange(t,a)},title:"Men\xfc:",labels:pe})),i.a.createElement(N.a,{item:!0,xs:12,style:Ge},i.a.createElement(le,{checks:this.state.napszak,onChange:function(t,a){return e.onNapszakChange(t,a)},title:"Napszak:",labels:ge})),i.a.createElement(N.a,{item:!0,xs:12,style:Ge},i.a.createElement(le,{checks:this.state.technika,onChange:function(t,a){return e.onTechnikaChange(t,a)},title:"Technika:",labels:me})),i.a.createElement(N.a,{item:!0,xs:12,style:Ge},i.a.createElement(Oe.FilePond,{ref:function(t){return e.pond=t},onaddfile:function(t,a){e.onaddfile(a)},onremovefile:function(t,a){e.setState({fileUrl:"",newImage:!1})},allowFileSizeValidation:!0,maxFileSize:"3MB",acceptedFileTypes:"image/*"})),i.a.createElement(N.a,{item:!0,xs:12,style:Ge},i.a.createElement(x.a,{row:!0},i.a.createElement(b,{width:"90%",margin:"normal",adorment:"perc",type:"number",value:this.state.elkeszitesiIdo,onChange:this.onElkeszitesiIdoChange.bind(this),label:"Elk\xe9sz\xedt\xe9si id\u0151 (perc)",placeholder:"Elk\xe9sz\xedt\xe9si id\u0151",required:!0}),i.a.createElement(b,{width:"90%",margin:"normal",adorment:"perc",type:"number",value:this.state.elokeszitesiIdo,onChange:this.onElokeszitesiIdoChange.bind(this),label:"El\u0151k\xe9sz\xedt\xe9si id\u0151 (perc)",placeholder:"El\u0151k\xe9sz\xedt\xe9si id\u0151",required:!0}))),i.a.createElement(N.a,{item:!0,xs:12,style:Ge},i.a.createElement(b,{adorment:"kcal",type:"number",value:this.state.kaloria,onChange:this.onKaloriaChange.bind(this),label:"Kal\xf3ria",placeholder:"Kal\xf3ria",required:!0,width:"100%",margin:"normal"})),i.a.createElement(N.a,{item:!0,xs:12,style:{marginTop:20,marginLeft:20,marginRight:20}},i.a.createElement(ee,{changeMennyiseg:function(t,a,n){return e.changeMennyiseg(t,a,n)},changeAlapanyag:function(t,a,n){return e.changeAlapanyag(t,a,n)},changeMertekegyseg:function(t,a,n){return e.changeMertekegyseg(t,a,n)},changeKaloria:function(t,a,n){return e.changeKaloria(t,a,n)},removeAlapanyag:function(t,a,n){return e.removeAlapanyag(t,a,n)},addAlapanyag:function(t,a){return e.addAlapanyag(t,a)},onChangeNumberOfPeople:function(t){return e.changeNumberOfPeople(t)},changeHozzavaloNev:function(t,a){return e.changeHozzavaloNev(t,a)},removeHozzavalo:function(t,a){return e.removeHozzavalo(t,a)},addHozzavalo:function(){return e.addHozzavalo()},numberOfPeople:this.state.numberOfPeople,hozzavalok:this.state.hozzavalok,onSortEnd:function(t,a,n){return e.onSortEnd(t,a,n)}})),i.a.createElement(N.a,{item:!0,xs:12,style:{marginTop:20,marginLeft:20,marginRight:20}},i.a.createElement(te,{elkeszites:this.state.elkeszites,addStep:function(){return e.addStep()},removeStep:function(t){return e.removeStep(t)},onStepChange:function(t,a){return e.changeStep(t,a)},title:"Elk\xe9sz\xedt\xe9s: "})),i.a.createElement(N.a,{item:!0,xs:12,style:{marginTop:20,marginLeft:20,marginRight:20}},i.a.createElement(Ne.a,{variant:"contained",color:"secondary",type:"submit"},this.props.edit?"Szerkezt":"Bevitel")))))),i.a.createElement(He.BrowserView,null,i.a.createElement("div",{className:"split right"},i.a.createElement("div",{className:t.root},i.a.createElement(Ke.a,{className:this.props.ownClassName,style:{marginTop:20,marginLeft:20,marginRight:20}},i.a.createElement(Ce,{state:this.state,part:2}))))))}}]),t}(n.Component),$e=Object(re.withStyles)(function(e){return{root:{flexGrow:1},paper:{padding:2*e.spacing.unit,color:e.palette.text.secondary}}})(Xe),Qe=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement($e,{token:this.props.token,user:this.props.user,state:this.props.state,edit:!0})}}]),t}(n.Component),Ye=a(175),Ze=a.n(Ye),et=a(176),tt=a.n(et),at=a(178),nt=a.n(at),it=a(177),st=a.n(it),rt=a(25),ot=a.n(rt),lt=a(179),ct=a.n(lt),ut=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return i.a.createElement(Ze.a,{className:t.card},i.a.createElement(tt.a,null,i.a.createElement(st.a,{className:t.media,image:this.props.imagePath}),i.a.createElement(nt.a,null,i.a.createElement(ot.a,{gutterBottom:!0,variant:"h5",component:"h2"},this.props.recipeTitle),i.a.createElement(ot.a,{component:"p"},this.props.details))),i.a.createElement(ct.a,null,i.a.createElement(Ne.a,{size:"small",color:"primary",onClick:function(t){e.props.editClick(t)}},"Szerkezt\xe9s")))}}]),t}(i.a.Component),ht=Object(re.withStyles)(function(e){return{card:{maxWidth:345},media:{height:140}}})(ut),pt=a(180),gt=a.n(pt),mt=a(84),dt=a.n(mt),kt=a(85),ft=a.n(kt),vt=a(87),yt=a.n(vt),zt=a(86),Et=a.n(zt),bt=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(u.a)(this,Object(h.a)(t).call(this))).onSubmit=function(e){e.preventDefault()},e.state={kereses:{fastText:"",reszletesKereses:!1},recipeIndToShow:[],open:[!1,!1],recipes:[],elkeszitesiIdo:"",elokeszitesiIdo:"",kaloria:"",evszak:[],unnep:[],dieta:[],menu:[],napszak:[],technika:[],hozzavalokCounter:2,hozzavalok:[{id:1,name:"",counter:1,alapanyagok:[X(0)]}],elkeszites:{counter:2,step:[{id:1,text:""}]}},e}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getAllRecipe(this.props.token,this.props.user)}},{key:"onFastTextChange",value:function(e){var t=Object.assign([],this.state.kereses);t.fastText=e.target.value,this.setState({kereses:t})}},{key:"onReszletesChange",value:function(e){var t=Object.assign([],this.state.kereses);t.reszletesKereses=e.target.checked,this.setState({kereses:t})}},{key:"onElkeszitesiIdoChange",value:function(e){e.target.value<0||this.setState({elkeszitesiIdo:e.target.value})}},{key:"onElokeszitesiIdoChange",value:function(e){e.target.value<0||this.setState({elokeszitesiIdo:e.target.value})}},{key:"onKaloriaChange",value:function(e){e.target.value<0||this.setState({kaloria:e.target.value})}},{key:"onEvszakChange",value:function(e,t){var a,n=this.state.evszak;t.target.checked?n.push(e):(a=n.indexOf(e),n.splice(a,1)),n.sort(),this.setState({evszak:n})}},{key:"onUnnepChange",value:function(e,t){var a,n=this.state.unnep;t.target.checked?n.push(e):(a=n.indexOf(e),n.splice(a,1)),n.sort(),this.setState({unnep:n})}},{key:"onDietaChange",value:function(e,t){var a,n=this.state.dieta;t.target.checked?n.push(e):(a=n.indexOf(e),n.splice(a,1)),n.sort(),this.setState({dieta:n})}},{key:"onMenuChange",value:function(e,t){var a,n=this.state.menu;t.target.checked?n.push(e):(a=n.indexOf(e),n.splice(a,1)),n.sort(),this.setState({menu:n})}},{key:"onNapszakChange",value:function(e,t){var a,n=this.state.napszak;t.target.checked?n.push(e):(a=n.indexOf(e),n.splice(a,1)),n.sort(),this.setState({napszak:n})}},{key:"onTechnikaChange",value:function(e,t){var a,n=this.state.technika;t.target.checked?n.push(e):(a=n.indexOf(e),n.splice(a,1)),n.sort(),this.setState({technika:n})}},{key:"getAllRecipe",value:function(e,t){var a=this;ve.a.get(de+"recipe/",{params:{token:e,user:t}}).then(function(e){a.setState({recipes:e.data})}).catch(function(e){})}},{key:"onRecipeClick",value:function(e){var t=this.state.recipeIndToShow;t.includes(e)||(t.push(e),this.setState({recipeShow:!0,recipeIndToShow:t})),new Image(100,200).src="picture.jpg"}},{key:"onClickCloseRecipe",value:function(e,t){e.preventDefault();var a=Object.assign([],this.state.recipeIndToShow);a.splice(t,1),this.setState({recipeIndToShow:a})}},{key:"addSearch",value:function(){var e=this;return i.a.createElement("form",{onSubmit:this.onSubmit.bind(this)},i.a.createElement("div",null,i.a.createElement(ne.a,{control:i.a.createElement(gt.a,{checked:this.state.kereses.reszletesKereses,onChange:function(t){return e.onReszletesChange(t)}}),label:"R\xe9szletes keres\xe9s"})),i.a.createElement("div",{style:{marginTop:20,marginLeft:20,marginRight:20}},i.a.createElement(b,{value:this.state.kereses.fastText,label:"Gyors keres\xe9s",placeholder:"Kifejez\xe9s amire keresni szeretn\xe9l...",width:"200%",onChange:function(t){return e.onFastTextChange(t)}})),i.a.createElement("div",{style:{marginTop:20,marginLeft:20,marginRight:20}},i.a.createElement(Ne.a,{variant:"contained",color:"secondary",type:"submit"},"Keres\xe9s")))}},{key:"render",value:function(){var e=this,t=this.props.classes;return i.a.createElement("div",null,i.a.createElement(dt.a,{expanded:this.state.open[0],onChange:function(t,a){return e.setState({open:[!e.state.open[0],e.state.open[1]]})}},i.a.createElement(ft.a,{expandIcon:i.a.createElement(Et.a,null)},i.a.createElement(ot.a,{className:t.heading},"Keres\xe9s")),i.a.createElement(yt.a,null,this.addSearch())),i.a.createElement(dt.a,{expanded:this.state.open[1],onChange:function(t,a){return e.setState({open:[e.state.open[0],!e.state.open[1]]})}},i.a.createElement(ft.a,{expandIcon:i.a.createElement(Et.a,null)},i.a.createElement(ot.a,{className:t.heading},"Keres\xe9si eredm\xe9nyek")),i.a.createElement(yt.a,null,i.a.createElement("div",{className:t.root},i.a.createElement(N.a,{container:!0,spacing:24},this.state.recipes.map(function(t,a){var n="";return t.elkeszites.step.map(function(e){return n=n+e.text+" "}),i.a.createElement(N.a,{item:!0,xs:"auto",key:t._id,onClick:function(){return e.onRecipeClick(a)}},i.a.createElement(ht,{imagePath:t.fileUrl,editClick:function(a){e.props.recipeEditClick(a,t)},recipeTitle:t.receptCim,details:n.substr(0,Math.min(200,n.length))}))}))))),this.state.recipeIndToShow.map(function(a,n){var s=e.state.recipes[a];return i.a.createElement(dt.a,{key:s._id,onDoubleClick:function(t){return e.onClickCloseRecipe(t,n)}},i.a.createElement(ft.a,{expandIcon:i.a.createElement(Et.a,null)},i.a.createElement(ot.a,{className:t.heading},s.receptCim)),i.a.createElement(yt.a,null,i.a.createElement(Ce,{state:s,part:1})))}))}}]),t}(n.Component),Ct=Object(re.withStyles)(function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular},button:{margin:e.spacing.unit},leftIcon:{marginRight:e.spacing.unit},rightIcon:{marginLeft:e.spacing.unit},iconSmall:{fontSize:20},image:{textAlign:"center",color:e.palette.text.secondary},paper:{textAlign:"justify",padding:2*e.spacing.unit}}})(bt),Ot=a(181),St=a.n(Ot),jt=a(82),wt=a.n(jt),xt=a(56),It=a.n(xt),Tt=a(81),Mt=a.n(Tt),Dt=a(182),At=a.n(Dt),Nt=a(6),Rt=a.n(Nt),Kt=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return i.a.createElement("main",{className:t.main},i.a.createElement(wt.a,null),i.a.createElement(Ke.a,{className:t.paper},i.a.createElement(St.a,{className:t.avatar},i.a.createElement(At.a,null)),i.a.createElement(ot.a,{component:"h1",variant:"h5"},ma),i.a.createElement("form",{className:t.form,onSubmit:function(t){return e.props.onSubmit(t)}},i.a.createElement(f.a,{margin:"normal",required:!0,fullWidth:!0},i.a.createElement(Mt.a,{htmlFor:"email"},"Felhaszn\xe1l\xf3n\xe9v"),i.a.createElement(It.a,{id:"email",name:"email",value:this.props.user,onChange:function(t){return e.props.userChange(t)},autoComplete:"email",autoFocus:!0})),i.a.createElement(f.a,{margin:"normal",required:!0,fullWidth:!0},i.a.createElement(Mt.a,{htmlFor:"password"},"Jelsz\xf3"),i.a.createElement(It.a,{name:"password",type:"password",value:this.props.psw,onChange:function(t){return e.props.pswChange(t)},id:"password",autoComplete:"current-password"})),i.a.createElement(ne.a,{control:i.a.createElement(se.a,{checked:this.props.checked,onChange:function(t){return e.props.rememberChange(t)},value:"remember",color:"primary"}),label:"Eml\xe9kezzen r\xe1m"}),i.a.createElement(Ne.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit},ma))))}}]),t}(n.Component),Ht=Rt()(function(e){return{main:Object(o.a)({width:"auto",display:"block",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},e.breakpoints.up(400+3*e.spacing.unit*2),{width:400,marginLeft:"auto",marginRight:"auto"}),paper:{marginTop:8*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(2*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px")},avatar:{margin:e.spacing.unit,backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing.unit},submit:{marginTop:3*e.spacing.unit}}})(Kt),Lt=(a(394),a(185)),Pt=a.n(Lt),Bt=a(186),Ft=a.n(Bt),Ut=a(58),qt=a.n(Ut),Wt=a(187),Vt=a.n(Wt),_t=a(191),Gt=a.n(_t),Jt=a(188),Xt=a.n(Jt),$t=a(117),Qt=a.n($t),Yt=a(189),Zt=a.n(Yt),ea=a(190),ta=a.n(ea),aa=a(48),na=a.n(aa),ia=a(183),sa=a.n(ia),ra=a(184),oa=a.n(ra),la=a(5),ca=a.n(la),ua=Object(re.createMuiTheme)({palette:{primary:{main:"#2E3B55"},secondary:{main:"#FD6A02"}},typography:{useNextVariants:!0}}),ha="\xdaj recept",pa="Keres\xe9s",ga="Szerkezt\xe9s",ma="Bejelentkez\xe9s",da="recipeDBToken",ka="recipeDBUSer",fa={tag:"",numberOfPeople:"",file:"",fileUrl:"",fileID:"",receptCim:"",elkeszitesiIdo:"",elokeszitesiIdo:0,kaloria:0,evszak:[],unnep:[],dieta:[],menu:[],napszak:[],technika:[],hozzavalokCounter:2,hozzavalok:[{id:1,name:"",counter:1,alapanyagok:[X(0)]}],elkeszites:{counter:2,step:[{id:1,text:""}]}};var va=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).userChange=function(e){a.setState({user:e.target.value})},a.pswChange=function(e){a.setState({psw:e.target.value})},a.rememberChange=function(e){a.setState({remember:e.target.checked})},a.handleDrawerOpen=function(){a.setState({open:!0})},a.handleDrawerClose=function(){a.setState({open:!1})},a.onItemClick=function(e){a.setState({actTab:e,open:!1})},a.login=function(e){e.preventDefault();var t={user:a.state.user,psw:a.state.psw};ve.a.post(de+"recipe/login",t).then(function(e){a.setState({token:e.data.token,loggedIn:!0,actTab:pa}),a.state.remember&&(localStorage.setItem(da,e.data.token),localStorage.setItem(ka,a.state.user))}).catch(function(e){a.setState({loggedIn:!1,dialogOpen:!0,user:"",psw:"",remember:!1})})},a.loggingIcon=function(){return a.state.loggedIn?i.a.createElement(F.a,{button:!0,key:"Kijelentkez\xe9s",onClick:a.logout},i.a.createElement(q.a,null,i.a.createElement(oa.a,null)),i.a.createElement(na.a,{primary:"Kijelentkez\xe9s"})):i.a.createElement(F.a,{button:!0,key:"Bejelentkez\xe9s",onClick:a.onItemClick.bind(Object(g.a)(Object(g.a)(a)),ma)},i.a.createElement(q.a,null,i.a.createElement(sa.a,null)),i.a.createElement(na.a,{primary:"Bejelentkez\xe9s"}))},a.loginNecessary=function(e){if(a.state.loggedIn)a.setState({open:!1}),a.onItemClick.bind(Object(g.a)(Object(g.a)(a)),e);else{var t=localStorage.getItem(da),n=localStorage.getItem(ka),i={user:n,token:t};ve.a.post(de+"recipe/token",i).then(function(i){a.setState({token:t,loggedIn:!0,actTab:e,open:!1,user:n})}).catch(function(e){a.setState({open:!1,actTab:ma})})}},a.logout=function(){a.setState({token:"",loggedIn:!1,actTab:ma,open:!1,user:"",psw:""}),localStorage.setItem(da,""),localStorage.setItem(ka,"")},a.handleDialogClose=function(){a.setState({dialogOpen:!1})},a.state={open:!1,loggedIn:!1,actTab:ma,token:"",dialogMsg:"Rossz felhaszn\xe1l\xf3n\xe9v vagy jelsz\xf3",dialogOpen:!1,okMsg:"Ok",progValue:100,user:"",psw:"",remember:!1,recipeToEdit:fa},a.loginNecessary(pa),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"getChoosenComponent",value:function(){var e=this,t=this.state.actTab;return this.state.loggedIn?0===t.localeCompare(ha)?i.a.createElement($e,{token:this.state.token,user:this.state.user,state:fa,edit:!1}):0===t.localeCompare(ga)?i.a.createElement(Qe,{token:this.state.token,user:this.state.user,state:this.state.recipeToEdit,edit:!0}):0===t.localeCompare(pa)?i.a.createElement(Ct,{token:this.state.token,user:this.state.user,recipeEditClick:function(t,a){return e.recipeEditClick(t,a)}}):void 0:i.a.createElement(Ht,{onSubmit:function(t){return e.login(t)},psw:this.state.psw,user:this.state.user,checked:this.state.remember,rememberChange:function(t){return e.rememberChange(t)},userChange:function(t){return e.userChange(t)},pswChange:function(t){return e.pswChange(t)}})}},{key:"recipeEditClick",value:function(e,t){e.preventDefault();for(var a=t.elkeszites,n=a.step,i=0;i<n.length;i++)n[i]={id:i,text:n[i].text};a={step:n,counter:n.length},t.elkeszites=a,t.hozzavalokCounter=t.hozzavalok.length+1;var s=t.hozzavalok;for(i=0;i<s.length;i++){for(var r=0;r<s[i].alapanyagok.length;r++)s[i].alapanyagok[r]={id:r,name:s[i].alapanyagok[r].name,mennyiseg:s[i].alapanyagok[r].mennyiseg,mertekegyseg:s[i].alapanyagok[r].mertekegyseg,kaloria:s[i].alapanyagok[r].kaloria};s[i]={id:i+1,name:s[i].name,counter:s[i].alapanyagok.length,alapanyagok:s[i].alapanyagok}}t.hozzavalok=s,this.setState({recipeToEdit:t,open:!1}),this.onItemClick(ga)}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.open;return i.a.createElement(re.MuiThemeProvider,{theme:ua},i.a.createElement(_e,{dialogOpen:this.state.dialogOpen,dialogMsg:this.state.dialogMsg,onClose:this.handleDialogClose.bind(this),okMsg:this.state.okMsg,progValue:this.state.progValue}),i.a.createElement("div",{className:t.root},i.a.createElement(wt.a,null),i.a.createElement(Pt.a,{position:"fixed",className:ca()(t.appBar,Object(o.a)({},t.appBarShift,a))},i.a.createElement(Ft.a,{disableGutters:!a},i.a.createElement(qt.a,{color:"inherit","aria-label":"Open drawer",onClick:this.handleDrawerOpen,className:ca()(t.menuButton,a&&t.hide)},i.a.createElement(Vt.a,null)),i.a.createElement(ot.a,{variant:"h6",color:"inherit",noWrap:!0},this.state.actTab))),i.a.createElement(Xt.a,{className:t.drawer,variant:"persistent",anchor:"left",open:a,classes:{paper:t.drawerPaper}},i.a.createElement("div",{className:t.drawerHeader},i.a.createElement(qt.a,{onClick:this.handleDrawerClose},"ltr"===ua.direction?i.a.createElement(Zt.a,null):i.a.createElement(ta.a,null))),i.a.createElement(Qt.a,null),i.a.createElement(P.a,null,i.a.createElement(F.a,{key:pa,onClick:this.onItemClick.bind(this,pa),button:!0},i.a.createElement(q.a,null,i.a.createElement(Gt.a,null)),i.a.createElement(na.a,{primary:pa})),i.a.createElement(F.a,{key:ha,onClick:this.onItemClick.bind(this,ha),button:!0},i.a.createElement(q.a,null,i.a.createElement(D.a,null)),i.a.createElement(na.a,{primary:ha})),i.a.createElement(Qt.a,null),this.loggingIcon())),i.a.createElement("main",{onClick:function(){return e.setState({open:!1})},className:ca()(t.content,Object(o.a)({},t.contentShift,a))},i.a.createElement("div",{className:t.drawerHeader}),this.getChoosenComponent())))}}]),t}(n.Component),ya=Object(re.withStyles)(function(e){return{root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginLeft:12,marginRight:20},hide:{display:"none"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerHeader:Object(m.a)({display:"flex",alignItems:"center",padding:"0 8px"},e.mixins.toolbar,{justifyContent:"flex-end"}),content:{flexGrow:1,padding:3*e.spacing.unit,transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0}}},{withTheme:!0})(va);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(402);var za=a(430),Ea=a(192);Object(Ea.a)(),r.a.render(i.a.createElement(za.a,null,i.a.createElement(ya,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[197,1,2]]]);
//# sourceMappingURL=main.c7af7897.chunk.js.map